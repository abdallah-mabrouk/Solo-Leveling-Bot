# titles.py

# Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù„Ù‚Ø§Ø¨ ÙˆÙ…Ø³ØªÙˆÙ‰ ÙØªØ­Ù‡Ø§ Ù„ÙƒÙ„ Ø¬Ø§Ù†Ø¨
TITLES_DB = {
    # ğŸ’ª Ø§Ù„Ù‚ÙˆØ©
    "strength": {
        15: "Ù…Ø¨ØªØ¯Ø¦ Ù†Ø´ÙŠØ·", 30: "Ø±ÙŠØ§Ø¶ÙŠ ÙˆØ§Ø¹Ø¯", 45: "ÙˆØ­Ø´ Ø§Ù„ØªØ¯Ø±ÙŠØ¨",
        60: "Ø¬Ø³Ø¯ Ø­Ø¯ÙŠØ¯ÙŠ", 75: "Ø¨Ø·Ù„ Ø±ÙŠØ§Ø¶ÙŠ", 90: "Ø§Ù„Ø¬Ø³Ø¯ Ø§Ù„Ø®Ø§Ø±Ù‚", 120: "Ø§Ù„Ø¬Ø³Ø¯ Ø§Ù„Ù…Ø·Ù„Ù‚"
    },
    # ğŸ§  Ø§Ù„Ø°ÙƒØ§Ø¡
    "intelligence": {
        15: "Ù‚Ø§Ø±Ø¦ Ù†Ù‡Ù…", 30: "Ø·Ø§Ù„Ø¨ Ø¹Ù„Ù…", 45: "Ù…ÙˆØ³ÙˆØ¹Ø© Ù…ØªØ­Ø±ÙƒØ©",
        60: "Ø§Ù„Ù…Ø®Ø·Ø· Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ", 75: "Ø§Ù„Ø­ÙƒÙŠÙ…", 90: "Ø¹Ù‚Ù„ Ù…Ø¯Ø¨Ø±", 120: "Ø§Ù„Ø­ÙƒÙŠÙ… Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ"
    },
    # ğŸ’¸ Ø§Ù„Ù…Ø§Ù„
    "freedom": {
        15: "Ù…Ø¯Ø®Ø± Ø°ÙƒÙŠ", 30: "ØµØ§Ø­Ø¨ Ø¯Ø®Ù„ Ø¥Ø¶Ø§ÙÙŠ", 45: "Ø±Ø¬Ù„ Ø£Ø¹Ù…Ø§Ù„ ØµØ§Ø¹Ø¯",
        60: "Ù…Ø³ØªØ«Ù…Ø± Ù…Ø­ØªØ±Ù", 75: "ØµØ§Ù†Ø¹ Ø§Ù„Ø«Ø±ÙˆØ©", 90: "Ø§Ù„ØªØ§ÙŠØºÙˆÙ† Ø§Ù„Ù…Ø§Ù„ÙŠ", 120: "Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ± Ø§Ù„Ù…Ø§Ù„"
    },
    # ğŸ¤ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ
    "agility": {
        15: "ØµØ¯ÙŠÙ‚ Ø¬ÙŠØ¯", 30: "Ù…ØªØ­Ø¯Ø« Ù„Ø¨Ù‚", 45: "Ø®Ø¨ÙŠØ± Ø¹Ù„Ø§Ù‚Ø§Øª",
        60: "Ø´Ø¨ÙƒØ© ØªÙˆØ§ØµÙ„", 75: "Ù‚Ø§Ø¦Ø¯ Ù…Ø¬ØªÙ…Ø¹ÙŠ", 90: "Ø§Ù„ÙƒØ§Ø±ÙŠØ²Ù…Ø§", 120: "Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¹ØµØ±"
    },
    # ğŸ•Œ Ø§Ù„Ø¯ÙŠÙ†ÙŠ
    "perception": {
        15: "Ø§Ù„Ø³Ø§Ù„Ùƒ", 30: "Ø§Ù„Ù…Ø¯Ø§ÙˆÙ…", 45: "Ø§Ù„Ù…Ø¬Ø§Ù‡Ø¯ Ù„Ù†ÙØ³Ù‡",
        60: "ØµØ§Ø­Ø¨ Ø§Ù„ÙˆØ±Ø¯", 75: "Ø§Ù„Ø£ÙˆÙ‘Ø§Ø¨", 90: "Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ø³Ù„ÙŠÙ…", 120: "ØµØ§Ø­Ø¨ Ø§Ù„Ø£Ø«Ø±"
    },
    # ğŸ† Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ÙƒÙ„ÙŠ
    "total": {
        15: "ØµÙŠØ§Ø¯ Ù…Ø¨ØªØ¯Ø¦", 30: "ØµÙŠØ§Ø¯ Ù…ØªÙ…Ø±Ø³", 60: "ØµÙŠØ§Ø¯ Ù†Ø®Ø¨Ø©",
        90: "ØµÙŠØ§Ø¯ Ù‚ÙˆÙ…ÙŠ", 100: "Ù†Ø§Ø¦Ø¨ Ø§Ù„Ø­Ø§ÙƒÙ…", 120: "Ø¹Ø§Ù‡Ù„ Ø§Ù„Ø¸Ù„Ø§Ù„"
    }
}

def check_new_titles(current_level, category, current_titles_list):
    """ÙØ­Øµ Ø¥Ø°Ø§ Ø§Ø³ØªØ­Ù‚ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù„Ù‚Ø¨Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹"""
    new_unlocked = []
    
    # ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ù†Øµ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù‚Ø§Ø¯Ù…Ø© Ù…Ù† Ø§Ù„Ø¯Ø§ØªØ§Ø¨ÙŠØ² ÙƒÙ€ List
    if isinstance(current_titles_list, str):
        current_titles_list = [current_titles_list]
    
    if category == "total_level":
        db_category = "total"
    else:
        # ØªØ­ÙˆÙŠÙ„ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙˆØ¯ (Ù…Ø«Ù„Ø§Ù‹ strength_level) Ø¥Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„ÙØ¦Ø© (strength)
        db_category = category.replace("_level", "")

    if db_category not in TITLES_DB:
        return []
        
    for level_req, title in TITLES_DB[db_category].items():
        if current_level >= level_req and title not in current_titles_list:
            new_unlocked.append(title)
            
    return new_unlocked